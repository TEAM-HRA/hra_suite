<project name="PyMed" default="build.PyMed">

	<property name="application.name" value="PyMed"/>
	<property name="application.root" value="../PyMed"/>	
	<import file="../PyUtils/commons.xml"/>

	<property name="console.type" value="True"/>

	<target name="projects">
		<ant dir="../PyCore" antfile="build_pycore.xml" inheritall="false" target="rebuild.egg"/>
		<property name="egg.1" value="../PyCore/dist/PyCore-0.1-py2.7.egg"/>
		
		<ant dir="../PyCommon" antfile="build_pycommon.xml" inheritall="false" target="rebuild.egg"/>
		<property name="egg.2" value="../PyCommon/dist/PyCommon-0.1-py2.7.egg"/>

		<ant dir="../PyMath" antfile="build_pymath.xml" inheritall="false" target="rebuild.egg"/>
		<property name="egg.3" value="../PyMath/dist/PyMath-0.1-py2.7.egg"/>

		<ant dir="../PySettings" antfile="build_pysettings.xml" inheritall="false" target="rebuild.egg"/>
		<property name="egg.4" value="../PySettings/dist/PySettings-0.1-py2.7.egg"/>
	</target>

	<target name="build.PyMed" description="Build PyMed application" depends="projects, clean.all">

		<!-- packages which are not calling explicitly in code -->
		<property name="hidden.package.1" value="pymed.qt.test01"/>
		<property name="hidden.package.2" value="pymed.qt.wizards"/>

		<antcall target="build.application">
			<!-- this seems to be strange, but process building the application doesn't see
				packages defined by above properties of type 'hidden.package.<number>' which are placed in src path -->
			<param name="hidden.paths" value="src"/>

			<param name="additional.paths" value="H:\\python\\python_64\\Python27\\Lib\\site-packages\\PyQt4\\"/>
			<param name="start.script" value="src/pymed/programs/gui/med_main_QT.pyw"/>
		    <param name="build.type" value="F"/>
		</antcall>
	</target>

<!--
	<target name="BUILD.QtOpenGl_test" description="Build QtOpenGl_test application">
		<antcall target="build.application">
			<param name="additional.paths" value="H:\\python\\python_64\\Python27\\Lib\\site-packages\\PyQt4\\"/>			
		    <param name="application.name" value="QtOpenGL_test"/>
			<param name="start.script" value="src/med/programs/gui/QtOpenGL_test.py"/>
			<param name="console.type" value="True"/>
			<param name="build.type" value="F"/>
			<param name="debug.info" value="True"/>
			<param name="egg.1" value="..\\OldSources\\lib_test2-0.1-py2.7.egg"/>			
		</antcall>
	</target>	
-->
	
</project>
