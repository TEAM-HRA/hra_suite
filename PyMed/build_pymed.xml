<project name="PyMed" default="build.PyMed">

	<property file="../PyMed/build_pymed.properties" />
	<import file="../PyUtils/commons.xml"/>

	<target name="projects">
		<ant dir="../PyCore" antfile="build_pycore.xml" inheritall="false" target="rebuild.egg"/>
		<ant dir="../PyCommon" antfile="build_pycommon.xml" inheritall="false" target="rebuild.egg"/>
		<ant dir="../PyMath" antfile="build_pymath.xml" inheritall="false" target="rebuild.egg"/>
		<ant dir="../PySettings" antfile="build_pysettings.xml" inheritall="false" target="rebuild.egg"/>
		<ant dir="../PyGUI" antfile="build_pygui.xml" inheritall="false" target="rebuild.egg"/>
	</target>

	<target name="build.PyMed" description="Build PyMed application" depends="projects, rebuild.egg">
		<antcall target="build.application">
			<param name="additional.paths" value="H:\\python\\python_64\\Python27\\Lib\\site-packages\\PyQt4\\"/>
			<param name="start.script" value="src/pymed/programs/gui/med_main_QT.pyw"/>
		</antcall>
		<antcall target="clean.dist.PyMed.egg"/>
	</target>

<!--
	<target name="BUILD.QtOpenGl_test" description="Build QtOpenGl_test application">
		<antcall target="build.application">
			<param name="additional.paths" value="H:\\python\\python_64\\Python27\\Lib\\site-packages\\PyQt4\\"/>			
		    <param name="application.name" value="QtOpenGL_test"/>
			<param name="start.script" value="src/med/programs/gui/QtOpenGL_test.py"/>
			<param name="console.type" value="True"/>
			<param name="build.type" value="F"/>
			<param name="debug.info" value="True"/>
			<param name="egg.1" value="..\\OldSources\\lib_test2-0.1-py2.7.egg"/>			
		</antcall>
	</target>	
-->
	<target name="clean.dist.PyMed.egg">
		<delete includeEmptyDirs="true" failonerror="no">
			<fileset dir="${application.root}/dist" includes="*.egg"/>
		</delete>
	</target>
</project>
