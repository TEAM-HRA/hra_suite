<project name="PyConsole" default="build.PyConsole">

	<property name="application.root" value="../PyConsole"/>
	<import file="../PyUtils/build_pyutils.xml"/>
	
	<property name="console.type" value="True"/>
	<property name="build.type" value="F"/>	
	<property name="libs" value="../PyCore/dist/PyCore-0.1-py2.7.egg;../PyCommon/dist/PyCommon-0.1-py2.7.egg;../PyMath/dist/PyMath-0.1-py2.7.egg;../PySettings/dist/PySettings-0.1-py2.7.egg"/>
	
	<target name="build.PyConsole" depends="projects" description="build PyConsole application">
		<property name="application.name" value="PyConsole"/>		
		<antcall target="build.application">
			<param name="python.path" value="${libs}"/>
			<param name="start.script" value="src/pyconsole/programs/test_poincare.py"/>
		</antcall>
	</target>
	
	<target name="build.PyCursesMed" depends="projects" description="build PyCursesMed application">
		<property name="application.name" value="PyCursesMed"/>		
		<antcall target="build.application">
			<param name="python.path" value="${libs}"/>
			<param name="start.script" value="src/pyconsole/programs/main_curses_med.py"/>
		</antcall>
	</target>	

	<target name="projects">
		<ant dir="../PyCore" antfile="build_pycore.xml" inheritall="false"/>
		<ant dir="../PyCommon" antfile="build_pycommon.xml" inheritall="false"/>
		<ant dir="../PyMath" antfile="build_pymath.xml" inheritall="false"/>
		<ant dir="../PySettings" antfile="build_pysettings.xml" inheritall="false"/>
	</target>	

	<target name="run.PyCurses" depends="projects" description="Run PyCurses">
		<exec executable="/bin/bash" os="Linux">
			<arg value="mvn" />
			<arg value="assembly:directory" />
		</exec>
		<exec executable="cmd" dir="." os="Windows Vista">
			<env key="PYTHONPATH" path="${PYTHONPATH};${libs}"/>			
			<arg value="/C" />
			<arg value="start" />
			<arg value="${python-path}/python"/>
			<arg value="src/pyconsole/programs/main_curses_med.py"/>
		</exec>
	</target>
	
</project>
